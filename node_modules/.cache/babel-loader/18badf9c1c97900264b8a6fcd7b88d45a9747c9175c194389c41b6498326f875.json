{"ast":null,"code":"import ChessService from '../services/ChessService';\nimport Piece from './Piece.vue';\nconst PieceType = {\n  None: 0,\n  WPawn: 1,\n  WRook: 2,\n  WKnight: 3,\n  WBishop: 4,\n  WQueen: 5,\n  WKing: 6,\n  BPawn: 11,\n  BRook: 12,\n  BKnight: 13,\n  BBishop: 14,\n  BQueen: 15,\n  BKing: 16\n};\nexport default {\n  name: '',\n  data() {\n    return {\n      isWhite: true,\n      castle: [true, true, true, true],\n      enPassant: null,\n      lastClicked: [0, 0]\n    };\n  },\n  props: {\n    position: \"\"\n  },\n  components: {\n    Piece\n  },\n  methods: {\n    printId(key) {\n      console.log(key);\n    },\n    move(move) {\n      ChessService.putMove(move).then(response => {\n        if (response.status == 200) {\n          console.log(response);\n          if (response.data == 1) {\n            this.$parent.getPosition();\n          }\n        } else {\n          console.log(response);\n        }\n      });\n    },\n    getKey(n) {\n      return 8 - Math.floor((n - 1) / 8) + 10 * ((n - 1) % 8 + 1);\n    }\n  },\n  computed: {\n    positionList: {\n      get() {\n        console.log(\"getting \" + this.position);\n        if (this.position == \"\") {\n          return [];\n        }\n        var returner = Array(64);\n        const size = this.position.length;\n        console.log(\"size: \" + size);\n        var i = 0;\n        while (i < size) {\n          console.log(\"switch \" + this.position[i]);\n          switch (this.position[i]) {\n            case '/':\n              i++;\n              break;\n            case 'p':\n              returner[i] = PieceType.BPawn;\n              i++;\n              break;\n            case 'P':\n              returner[i] = PieceType.WPawn;\n              i++;\n              break;\n            case 'r':\n              returner[i] = PieceType.BRook;\n              i++;\n              break;\n            case 'R':\n              returner[i] = PieceType.WRook;\n              i++;\n              break;\n            case 'k':\n              returner[i] = PieceType.BKnight;\n              i++;\n              break;\n            case 'K':\n              returner[i] = PieceType.WKnight;\n              i++;\n              break;\n            case 'b':\n              returner[i] = PieceType.BBishop;\n              i++;\n              break;\n            case 'B':\n              returner[i] = PieceType.WBishop;\n              i++;\n              break;\n            case 'q':\n              returner[i] = PieceType.BQueen;\n              i++;\n              break;\n            case 'Q':\n              returner[i] = PieceType.WQueen;\n              i++;\n              break;\n            case 'k':\n              returner[i] = PieceType.BKing;\n              i++;\n              break;\n            case 'K':\n              returner[i] = PieceType.WKing;\n              i++;\n              break;\n            default:\n              var iter = 0;\n              while (parseInt(this.position[i]) != iter) {\n                returner[i] = PieceType.None;\n                i++;\n                iter++;\n              }\n              break;\n          }\n        }\n        return returner;\n      }\n    }\n  }\n};","map":{"version":3,"names":["ChessService","Piece","PieceType","None","WPawn","WRook","WKnight","WBishop","WQueen","WKing","BPawn","BRook","BKnight","BBishop","BQueen","BKing","name","data","isWhite","castle","enPassant","lastClicked","props","position","components","methods","printId","key","console","log","move","putMove","then","response","status","$parent","getPosition","getKey","n","Math","floor","computed","positionList","get","returner","Array","size","length","i","iter","parseInt"],"sources":["/home/atoste/chessFrontend/src/components/Board.vue"],"sourcesContent":["<template>\n        <div class=\"chessBoard\">\n        <div v-for=\"n in 64\" v-bind:key=\"getKey(n)\" :class=\"{buttonWhite: getKey(n) % 2 == 0, buttonBlack: getKey(n) % 2 == 1}\"   @click=\"move(getKey(n))\">\n        <Piece style=\"align-items: center;\" :id=\"getKey(n)\"></Piece>\n        </div>\n        </div>\n        <div>\n        <h1>{{ positionList }}</h1>\n        <h1>{{ position }}</h1>\n    </div>\n\n\n</template>\n\n<script>\n    import ChessService from '../services/ChessService'\n    import Piece from './Piece.vue'\n    const PieceType = {\n        None: 0,\n        WPawn: 1,\n        WRook: 2,\n        WKnight: 3,\n        WBishop: 4,\n        WQueen: 5,\n        WKing: 6,\n        BPawn: 11,\n        BRook: 12,\n        BKnight: 13,\n        BBishop: 14,\n        BQueen: 15,\n        BKing: 16,\n\n    }\n    export default{\n        name: '',\n        data(){\n            return {\n                isWhite: true,\n                castle:[true,true,true,true],\n                enPassant: null,\n                lastClicked: [0,0]\n            }\n        },\n        props:{\n            position:\"\",\n        },\n        components:{\n            Piece\n        },\n        methods:{\n            printId(key){\n                console.log(key)\n            },\n            move(move){\n                ChessService.putMove(move).then((response) =>{\n                    if(response.status == 200){\n                        console.log(response);\n                        if(response.data == 1){\n                            this.$parent.getPosition();\n                        }\n                    }\n                    else{\n                        console.log(response);\n                    }\n                })\n            },\n            \n            getKey(n){\n                return ((8-Math.floor((n-1)/8)) + 10 * ((n-1)%8 + 1));\n            }\n        },\n        computed:{\n            positionList: {\n                get(){\n                    console.log(\"getting \" + this.position);\n                    if(this.position == \"\"){\n                        return [];\n                    }\n                    var returner = Array(64);\n                    const size = this.position.length;\n                    console.log(\"size: \" + size);\n                    var i = 0;\n                    while(i < size){\n\n                        console.log(\"switch \" + this.position[i]);\n                        switch(this.position[i]){\n                            case '/':\n                                i++;\n                                break;\n                            case 'p':\n                                returner[i] = PieceType.BPawn;\n                                i++;\n                                break;\n                            case 'P':\n                                returner[i] = PieceType.WPawn;\n                                i++;\n                                break;\n                            case 'r':\n                                returner[i] = PieceType.BRook;\n                                i++;\n                                break;\n                            case 'R':\n                                returner[i] = PieceType.WRook;\n                                i++;\n                                break;\n                            case 'k':\n                                returner[i] = PieceType.BKnight;\n                                i++;\n                                break;\n                            case 'K':\n                                returner[i] = PieceType.WKnight;\n                                i++;\n                                break;\n                            case 'b':\n                                returner[i] = PieceType.BBishop;\n                                i++;\n                                break;\n                            case 'B':\n                                returner[i] = PieceType.WBishop;\n                                i++;\n                                break;\n                            case 'q':\n                                returner[i] = PieceType.BQueen;\n                                i++;\n                                break;\n                            case 'Q':\n                                returner[i] = PieceType.WQueen;\n                                i++;\n                                break;\n                            case 'k':\n                                returner[i] = PieceType.BKing;\n                                i++;\n                                break;\n                            case 'K':\n                                returner[i] = PieceType.WKing;\n                                i++;\n                                break;\n                            default:\n                                var iter = 0;\n                                while(parseInt(this.position[i]) != iter){\n                                    returner[i] = PieceType.None;\n                                    i++;\n                                    iter++;\n                                }\n                                break;\n                        }\n                    }\n                    return returner;\n                }\n        }\n        }\n    }\n</script>\n\n<style>\n.buttonWhite {\n    border: 1px outset gray;\n    background-color: white;\n    width: min(12.5vh, 12.5vw);\n    height: min(12.5vh, 12.5vw);\n    cursor:pointer;\n}\n.buttonBlack {\n    border: 1px outset gray;\n    background-color: black;\n    width: min(12.5vh, 12.5vw);\n    height: min(12.5vh, 12.5vw);\n    cursor:pointer;\n}\n.chessBoard{\n    width: min(100vh, 100vw);\n    height: min(100vh, 100vw);\n    margin-left: auto;\n    margin-right: auto;\n    background: brown;\n    display: grid;\n    grid-template-columns: repeat(8,1fr);\n}\n\n\n</style>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}